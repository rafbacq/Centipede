import javax.swing.*;
import java.awt.*;

public class Spider {
    public static void main(String[] args) {
        Program program = new Program();
        program.run();
    }
}

class Program {
    private JFrame frame;
    private DrawPanel drawPanel;
    private Ball ball;
    private int windowWidth = 1600;
    private int windowHeight = 800;

    void run() {
        // Initialize program
        frame = new JFrame("Art Assignment");
        drawPanel = new DrawPanel();
       // drawPanel.setPreferredSize(new Dimension(1600, 400));
        frame.add(drawPanel);
        frame.pack();
        frame.setSize(windowWidth, windowHeight);
        frame.setVisible(true);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        // Initialize ball
        ball = new Ball(
                (int) (Math.random() * windowWidth),
                (int) (Math.random() * windowHeight/2 + 400),
                15,
                Color.black,
                2, // Initial velocity along X-axis
                2  // Initial velocity along Y-axis
        );

        // Main loop
        while (true) {
            ball.update();
            frame.repaint();
            try {
                Thread.sleep(10);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }

    public class DrawPanel extends JPanel {
        @Override
        public void paintComponent(Graphics g) {
            super.paintComponent(g);
            ball.draw(g);
        }
    }

    public class Ball {
        private int posX, posY, size;
        private Color color;
        private int vx, vy;
        private int stepsRemaining;
        private int stage; // 0 for "M" shape, 1 for vertical movement

        public Ball(int posX, int posY, int size, Color color, int vx, int vy) {
            this.posX = posX;
            this.posY = posY;
            this.size = size;
            this.color = color;
            this.vx = vx;
            this.vy = vy;
            this.stepsRemaining = (int) (Math.random() * 50) + 5; 
            this.stage = 0; 
        }

        public void update() {
            if (stage == 0) {
                if (stepsRemaining > 0) {
                    posX += vx;
                    posY -= vy;
                    stepsRemaining--;
                } else {
                    stage = 1;
                    stepsRemaining = (int) (Math.random() * 50) + 5;
                }
            } else if (stage == 1) {
                if (stepsRemaining > 0) {
                    // Move vertically up
                    posY -= vy;
                    stepsRemaining--;
                } else {
                    // If in the top half of the frame, bounce back towards the bottom
                    if (posY < windowHeight / 2) {
                        vy = -vy;
                    }
                    stage = 2; // Move to diagonally down stage
                    stepsRemaining = (int) (Math.random() * 50) + 5;
                }
            } else {
                if (stepsRemaining > 0) {
                    // Move diagonally down
                    posX += vx;
                    posY += vy;
                    stepsRemaining--;
                } else {
                    // Change stage and reset steps
                    stage = 0; // Move back to "M" shape stage
                    stepsRemaining = (int) (Math.random() * 50) + 5; // Random number of steps for next movement
                }
            }

            // Bounce off walls
            if (posX <= 0 || posX + size >= windowWidth) {
                vx = -vx;
            }
            if (posY <= windowHeight/2 || posY + size >= windowHeight) {
                vy = -vy;
            }
        }


        public void draw(Graphics g) {
        	  g.setColor(color);
        	    g.fillOval(posX, posY, size, size);
        	    //left side
        	    g.drawLine(posX+2, posY, posX-3, posY-3);
        	    g.drawLine(posX, posY+5, posX-5, posY+5);
        	    g.drawLine(posX, posY+9, posX-5, posY+9);
        	    g.drawLine(posX+2, posY+12, posX-3, posY+15);

        	    
        	    //right side
        	    g.drawLine(posX+12, posY, posX+17, posY-3);
        	    g.drawLine(posX+15, posY+5, posX+19, posY+5);
        	    g.drawLine(posX+15, posY+9, posX+19, posY+9);
        	    g.drawLine(posX+12, posY+12, posX+17, posY+15);
        }
    }
}
